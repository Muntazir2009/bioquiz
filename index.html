<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Biology Galaxy Quiz</title>

<style>
/* =====================
   DESIGN SYSTEM
===================== */
:root {
  --bg-dark: #060818;
  --nebula-purple: #3a1c71;
  --nebula-blue: #0f4c75;
  --accent-cyan: #4dd6ff;
  --accent-green: #4dffd2;
  --accent-red: #ff7a7a;
  --glass: rgba(12, 18, 48, 0.72);
  --border-soft: rgba(255,255,255,0.18);
}

/* =====================
   BASE
===================== */
* {
  box-sizing: border-box;
  font-family: Inter, system-ui, -apple-system, Segoe UI, sans-serif;
}

body {
  margin: 0;
  min-height: 100vh;
  color: #eef6ff;
  background:
    radial-gradient(1200px 600px at 20% 80%, rgba(120,60,255,.25), transparent 60%),
    radial-gradient(800px 500px at 80% 20%, rgba(0,200,255,.18), transparent 55%),
    linear-gradient(180deg, #050615, #030314);
  overflow-x: hidden;
}

/* =====================
   STAR LAYERS
===================== */
canvas {
  position: fixed;
  inset: 0;
  z-index: -1;
}

/* =====================
   QUIZ CARD
===================== */
.quiz {
  max-width: 920px;
  margin: 48px auto;
  padding: 32px;
  background: var(--glass);
  border-radius: 22px;
  backdrop-filter: blur(14px);
  border: 1px solid var(--border-soft);
  box-shadow: 0 40px 120px rgba(0,0,0,.45);
  animation: fadeIn .6s ease;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 18px;
}

.progress {
  font-size: 0.9rem;
  opacity: 0.8;
}

/* =====================
   QUESTION
===================== */
h1 {
  font-size: clamp(1.2rem, 3.5vw, 1.9rem);
  line-height: 1.4;
  margin: 10px 0 22px;
}

/* =====================
   OPTIONS
===================== */
.options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 18px;
}

.option {
  padding: 16px 18px;
  border-radius: 999px;
  background:
    linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.02)),
    linear-gradient(135deg, #5f7cff, #8f5bff);
  border: 1px solid var(--border-soft);
  text-align: center;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease;
}

.option:hover {
  transform: translateY(-2px);
  box-shadow: 0 0 0 1px rgba(140,180,255,.4),
              0 10px 30px rgba(120,150,255,.25);
}

.option.disabled {
  pointer-events: none;
  opacity: 0.55;
}

/* =====================
   FEEDBACK
===================== */
.feedback {
  margin-top: 22px;
  padding: 18px;
  border-radius: 14px;
  background: rgba(0,0,0,.25);
  border: 1px solid var(--border-soft);
  animation: slideUp .35s ease;
  line-height: 1.6;
}

.correct { color: var(--accent-green); }
.wrong { color: var(--accent-red); }

/* =====================
   BUTTON
===================== */
button {
  margin-top: 18px;
  padding: 12px 26px;
  border-radius: 999px;
  border: none;
  background: linear-gradient(135deg, #00d4ff, #4f6bff);
  color: white;
  font-size: 0.95rem;
  cursor: pointer;
  transition: transform .15s ease;
}

button:hover { transform: scale(1.04); }

/* =====================
   MOBILE
===================== */
@media (max-width: 640px) {
  .options { grid-template-columns: 1fr; }
  .quiz { margin: 20px; padding: 24px; }
}

/* =====================
   ANIMATIONS
===================== */
@keyframes fadeIn {
  from { opacity: 0; transform: scale(.98); }
  to   { opacity: 1; transform: scale(1); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="quiz">
  <div class="header">
    <strong>ðŸ§¬ Biology Quiz</strong>
    <div class="progress" id="progress"></div>
  </div>

  <h1 id="question">Loadingâ€¦</h1>
  <div class="options" id="options"></div>
  <div class="feedback" id="feedback" style="display:none"></div>
  <button id="next" style="display:none">Next Question â†’</button>
</div>

<script>
/* =====================
   STARFIELD (3 DEPTHS)
===================== */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize(); addEventListener("resize", resize);

const layers = [
  { count: 60, speed: .15 },
  { count: 40, speed: .3 },
  { count: 30, speed: .5 }
];

const stars = layers.flatMap(l =>
  Array.from({length:l.count},()=>({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*1.4,
    s:l.speed
  }))
);

(function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle="white";
  stars.forEach(st=>{
    ctx.beginPath();
    ctx.arc(st.x,st.y,st.r,0,Math.PI*2);
    ctx.fill();
    st.y+=st.s;
    if(st.y>canvas.height) st.y=0;
  });
  requestAnimationFrame(animate);
})();

/* =====================
   QUIZ LOGIC
===================== */
let quiz=[], index=0, locked=false;

const qEl = document.getElementById("question");
const oEl = document.getElementById("options");
const fEl = document.getElementById("feedback");
const nBtn = document.getElementById("next");
const pEl = document.getElementById("progress");

fetch("questions.json")
  .then(r=>r.json())
  .then(data=>{ quiz=data; load(); });

function load(){
  locked=false;
  const q=quiz[index];
  pEl.textContent = `Question ${index+1} of ${quiz.length}`;
  qEl.textContent = q.question;
  oEl.innerHTML=""; fEl.style.display="none"; nBtn.style.display="none";

  q.options.forEach((t,i)=>{
    const d=document.createElement("div");
    d.className="option";
    d.textContent=t;
    d.onclick=()=>select(i);
    oEl.appendChild(d);
  });
}

function select(i){
  if(locked) return;
  locked=true;
  const q=quiz[index];
  [...oEl.children].forEach(o=>o.classList.add("disabled"));
  fEl.style.display="block";

  fEl.innerHTML = i===q.answer
    ? `<div class="correct">âœ” Correct</div><p>${q.explanation}</p>`
    : `<div class="wrong">âœ– Incorrect</div>
       <p><b>Correct:</b> ${q.options[q.answer]}</p>
       <p>${q.explanation}</p>`;

  nBtn.style.display="inline-block";
}

nBtn.onclick=()=>{
  index++;
  if(index<quiz.length) load();
  else {
    qEl.textContent="ðŸŽ‰ Quiz Completed";
    oEl.innerHTML="";
    fEl.style.display="block";
    fEl.innerHTML="Well done. Youâ€™ve completed the quiz.";
    nBtn.style.display="none";
    pEl.textContent="";
  }
};
</script>

</body>
</html>
